{"ast":null,"code":"var _jsxFileName = \"/Users/Dodo/Desktop/Web development/StopWatch/frontend/src/componets/Login.js\";\nimport React, { useState } from \"react\"; // 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\n\nfunction Login(props) {\n  console.log(\"login props\", props);\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  function onSubmit(event) {\n    // prevet default form behavior\n    event.preventDefault();\n    const email = event.target.email.value;\n    const password = event.target.password.value; // validate data in server (Fetch)\n\n    fetch(\"http://localhost:5000/users/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\" // body type\n\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(function (response) {\n      // run after get response from server\n      console.log(\"res\", response);\n      return response.json(); // wait to body data from server (PROMISE)\n    }).then(function (body) {\n      //   run after all body back from server\n      if (body.message === \"Success\") {\n        localStorage.setItem(\"loggedinUser\", JSON.stringify(email));\n        props.history.push(\"/\");\n      } else {\n        props.history.push(\"/register\");\n      }\n\n      console.log(body);\n    }); // if success\n    // save user form server in local storage\n    // redirect to home\n  }\n\n  function onChange(event) {\n    {\n      const {\n        name,\n        value\n      } = event.target;\n      setForm({ ...form,\n        [name]: value\n      });\n    }\n  }\n\n  console.log(\"form\", form);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"log-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"welcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Welcome To StopWatch\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"catch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Time Mangement for the professional freelancer\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"please\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Please Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginemail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"loginemail\",\n    value: form.email,\n    name: \"email\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 117\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginpassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"loginpassword\",\n    type: \"password\",\n    name: \"password\",\n    value: form.password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"control-btn start-button login-btn\",\n    type: \"sumbit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 16\n    }\n  }, \"Or\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }\n  }, \"Register as a new user\"))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Dodo/Desktop/Web development/StopWatch/frontend/src/componets/Login.js"],"names":["React","useState","Login","props","console","log","form","setForm","email","password","onSubmit","event","preventDefault","target","value","fetch","method","headers","body","JSON","stringify","then","response","json","message","localStorage","setItem","history","push","onChange","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC,C,CAEA;AACA;AACA;AACA;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACnBC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,KAA3B;AAEA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC;AAAEO,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE;AAAvB,GAAD,CAAhC;;AACA,WAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACtB;AACAA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMJ,KAAK,GAAGG,KAAK,CAACE,MAAN,CAAaL,KAAb,CAAmBM,KAAjC;AACA,UAAML,QAAQ,GAAGE,KAAK,CAACE,MAAN,CAAaJ,QAAb,CAAsBK,KAAvC,CAJsB,CAMtB;;AACAC,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAE;AACN,wBAAgB,kBADV,CAC8B;;AAD9B,OAF+B;AAKxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAClBZ,QAAAA,KADkB;AAElBC,QAAAA;AAFkB,OAAf;AALkC,KAAtC,CAAL,CAUIY,IAVJ,CAUS,UAAUC,QAAV,EAAoB;AACvB;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,QAAnB;AACA,aAAOA,QAAQ,CAACC,IAAT,EAAP,CAHuB,CAGC;AAC1B,KAdJ,EAeIF,IAfJ,CAeS,UAAUH,IAAV,EAAgB;AACnB;AACA,UAAIA,IAAI,CAACM,OAAL,KAAiB,SAArB,EAAgC;AAC7BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCP,IAAI,CAACC,SAAL,CAAeZ,KAAf,CAArC;AACAL,QAAAA,KAAK,CAACwB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACF,OAHD,MAGO;AACJzB,QAAAA,KAAK,CAACwB,OAAN,CAAcC,IAAd,CAAmB,WAAnB;AACF;;AACDxB,MAAAA,OAAO,CAACC,GAAR,CAAYa,IAAZ;AACF,KAxBJ,EAPsB,CAgCtB;AAEA;AAEA;AACF;;AAED,WAASW,QAAT,CAAkBlB,KAAlB,EAAyB;AACtB;AACG,YAAM;AAAEmB,QAAAA,IAAF;AAAQhB,QAAAA;AAAR,UAAkBH,KAAK,CAACE,MAA9B;AACAN,MAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,SAACwB,IAAD,GAAQhB;AAAnB,OAAD,CAAP;AACF;AACH;;AAEDV,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBC,IAApB;AAEA,sBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADH,eAEG;AAAI,IAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAFH,CADH,eAKG;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADH,eAGG;AAAM,IAAA,QAAQ,EAAEI,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAO,IAAA,GAAG,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADH,eAEG;AAAO,IAAA,SAAS,EAAC,YAAjB;AAA8B,IAAA,EAAE,EAAC,YAAjC;AAA8C,IAAA,KAAK,EAAEJ,IAAI,CAACE,KAA1D;AAAiE,IAAA,IAAI,EAAC,OAAtE;AAA8E,IAAA,QAAQ,EAAEqB,QAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,oBAEwG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFxG,eAGG;AAAO,IAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,eAIG;AACG,IAAA,SAAS,EAAC,YADb;AAEG,IAAA,EAAE,EAAC,eAFN;AAGG,IAAA,IAAI,EAAC,UAHR;AAIG,IAAA,IAAI,EAAC,UAJR;AAKG,IAAA,KAAK,EAAEvB,IAAI,CAACG,QALf;AAMG,IAAA,QAAQ,EAAEoB,QANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJH,EAWM,GAXN,eAYG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZH,eAaG;AAAQ,IAAA,SAAS,EAAC,oCAAlB;AAAuD,IAAA,IAAI,EAAC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbH,eAgBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBH,eAiBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAjBH,eAkBG;AAAG,IAAA,IAAI,EAAC,gCAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAlBH,CAHH,CALH,CADH;AAgCF;;AAED,eAAe3B,KAAf","sourcesContent":["import React, { useState } from \"react\";\n\n// 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\n\nfunction Login(props) {\n   console.log(\"login props\", props);\n\n   const [form, setForm] = useState({ email: \"\", password: \"\" });\n   function onSubmit(event) {\n      // prevet default form behavior\n      event.preventDefault();\n      const email = event.target.email.value;\n      const password = event.target.password.value;\n\n      // validate data in server (Fetch)\n      fetch(\"http://localhost:5000/users/login\", {\n         method: \"POST\",\n         headers: {\n            \"Content-Type\": \"application/json\", // body type\n         },\n         body: JSON.stringify({\n            email,\n            password,\n         }),\n      })\n         .then(function (response) {\n            // run after get response from server\n            console.log(\"res\", response);\n            return response.json(); // wait to body data from server (PROMISE)\n         })\n         .then(function (body) {\n            //   run after all body back from server\n            if (body.message === \"Success\") {\n               localStorage.setItem(\"loggedinUser\", JSON.stringify(email));\n               props.history.push(\"/\");\n            } else {\n               props.history.push(\"/register\");\n            }\n            console.log(body);\n         });\n      // if success\n\n      // save user form server in local storage\n\n      // redirect to home\n   }\n\n   function onChange(event) {\n      {\n         const { name, value } = event.target;\n         setForm({ ...form, [name]: value });\n      }\n   }\n\n   console.log(\"form\", form);\n\n   return (\n      <div>\n         <header className='log-header'>\n            <h1 className='welcome'>Welcome To StopWatch</h1>\n            <h2 className='catch'>Time Mangement for the professional freelancer</h2>\n         </header>\n         <div className='login-container'>\n            <h2 className='please'>Please Sign In</h2>\n\n            <form onSubmit={onSubmit}>\n               <label For='loginemail'>Email</label>\n               <input className='user-login' id='loginemail' value={form.email} name='email' onChange={onChange} /> <br />\n               <label For='loginpassword'>Password</label>\n               <input\n                  className='user-login'\n                  id='loginpassword'\n                  type='password'\n                  name='password'\n                  value={form.password}\n                  onChange={onChange}\n               />{\" \"}\n               <br />\n               <button className='control-btn start-button login-btn' type='sumbit'>\n                  Log in\n               </button>\n               <br />\n               <p>Or</p>\n               <a href='http://localhost:3000/register'>Register as a new user</a>\n            </form>\n         </div>\n      </div>\n   );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}