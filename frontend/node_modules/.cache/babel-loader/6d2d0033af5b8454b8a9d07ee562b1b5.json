{"ast":null,"code":"var _jsxFileName = \"/Users/Dodo/Desktop/StopWatch/frontend/src/componets/Register.js\";\nimport React, { useState } from \"react\"; // 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\n\nfunction Register(props) {\n  console.log(\"Register props\", props);\n  const [form, setForm] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  function onSubmit(event) {\n    // prevet default form behavior\n    event.preventDefault();\n    const fname = event.target.fname.value;\n    const lname = event.target.lname.value;\n    const email = event.target.email.value;\n    const password = event.target.password.value; // validate data in server (Fetch)\n\n    fetch(\"http://localhost:5000/users/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\" // body type\n\n      },\n      body: JSON.stringify({\n        fname,\n        lname,\n        email,\n        password\n      })\n    }).then(function (response) {\n      // run after get response from server\n      console.log(\"res\", response);\n      return response.json(); // wait to body data from server (PROMISE)\n    }).then(function (body) {\n      //   run after all body back from server\n      if (body.message === \"Success\") {\n        localStorage.setItem(\"loggedinUser\", JSON.stringify(email));\n        props.history.push(\"/\");\n      } else {\n        alert(body.message);\n      }\n\n      console.log(body);\n    }); // if success\n    // save user form server in local storage\n    // redirect to home\n  }\n\n  function onChange(event) {\n    {\n      const {\n        name,\n        value\n      } = event.target;\n      setForm({ ...form,\n        [name]: value\n      });\n    }\n  }\n\n  console.log(\"form\", form);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"welcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Welcome To StopWatch\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"catch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Time Mangement for the professional freelancer\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"please\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Register below\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginfnane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 16\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"fname\",\n    value: form.fname,\n    name: \"fname\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 112\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginlnane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"lname\",\n    value: form.lname,\n    name: \"lname\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 112\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 119\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginemail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 16\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"loginemail\",\n    value: form.email,\n    name: \"email\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 117\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    For: \"loginpassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-login\",\n    id: \"loginpassword\",\n    type: \"password\",\n    name: \"password\",\n    value: form.password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"control-btn start-button login-btn\",\n    type: \"sumbit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 16\n    }\n  }, \"Or\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 16\n    }\n  }, \"Register as a new user\"))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/Dodo/Desktop/StopWatch/frontend/src/componets/Register.js"],"names":["React","useState","Register","props","console","log","form","setForm","fname","lname","email","password","onSubmit","event","preventDefault","target","value","fetch","method","headers","body","JSON","stringify","then","response","json","message","localStorage","setItem","history","push","alert","onChange","name"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\n// 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\n\nfunction Register(props) {\n   console.log(\"Register props\", props);\n\n   const [form, setForm] = useState({ fname: \"\", lname: \"\", email: \"\", password: \"\" });\n   function onSubmit(event) {\n      // prevet default form behavior\n      event.preventDefault();\n      const fname = event.target.fname.value;\n      const lname = event.target.lname.value;\n      const email = event.target.email.value;\n      const password = event.target.password.value;\n\n      // validate data in server (Fetch)\n      fetch(\"http://localhost:5000/users/register\", {\n         method: \"POST\",\n         headers: {\n            \"Content-Type\": \"application/json\", // body type\n         },\n         body: JSON.stringify({\n            fname,\n            lname,\n            email,\n            password,\n         }),\n      })\n         .then(function (response) {\n            // run after get response from server\n            console.log(\"res\", response);\n            return response.json(); // wait to body data from server (PROMISE)\n         })\n         .then(function (body) {\n            //   run after all body back from server\n            if (body.message === \"Success\") {\n               localStorage.setItem(\"loggedinUser\", JSON.stringify(email));\n               props.history.push(\"/\");\n            } else {\n               alert(body.message);\n            }\n            console.log(body);\n         });\n      // if success\n\n      // save user form server in local storage\n\n      // redirect to home\n   }\n\n   function onChange(event) {\n      {\n         const { name, value } = event.target;\n         setForm({ ...form, [name]: value });\n      }\n   }\n\n   console.log(\"form\", form);\n\n   return (\n      <div>\n         <header>\n            <h1 className='welcome'>Welcome To StopWatch</h1>\n            <h2 className='catch'>Time Mangement for the professional freelancer</h2>\n         </header>\n         <div className='login-container'>\n            <h2 className='please'>Register below</h2>\n\n            <form onSubmit={onSubmit}>\n               <label For='loginfnane'>First Name</label>\n               <input className='user-login' id='fname' value={form.fname} name='fname' onChange={onChange} /> <br />\n               <label For='loginlnane'>Last Name</label>\n               <input className='user-login' id='lname' value={form.lname} name='lname' onChange={onChange} /> <br /> <br />\n               <br />\n               <label For='loginemail'>Email</label>\n               <input className='user-login' id='loginemail' value={form.email} name='email' onChange={onChange} /> <br />\n               <label For='loginpassword'>Password</label>\n               <input\n                  className='user-login'\n                  id='loginpassword'\n                  type='password'\n                  name='password'\n                  value={form.password}\n                  onChange={onChange}\n               />{\" \"}\n               <br />\n               <button className='control-btn start-button login-btn' type='sumbit'>\n                  Log in\n               </button>\n               <br />\n               <p>Or</p>\n               <a href='http://localhost:3000/register'>Register as a new user</a>\n            </form>\n         </div>\n      </div>\n   );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}