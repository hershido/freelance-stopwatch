{"ast":null,"code":"import _defineProperty from\"/Users/Dodo/Desktop/Web development/StopWatch/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/Dodo/Desktop/Web development/StopWatch/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Dodo/Desktop/Web development/StopWatch/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";// 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\nfunction Register(props){console.log(\"Register props\",props);var _useState=useState({fname:\"\",lname:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];function onSubmit(event){// prevet default form behavior\nevent.preventDefault();var fname=event.target.fname.value;var lname=event.target.lname.value;var email=event.target.email.value;var password=event.target.password.value;// validate data in server (Fetch)\nfetch(\"http://localhost:5000/users/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"// body type\n},body:JSON.stringify({fname:fname,lname:lname,email:email,password:password})}).then(function(response){// run after get response from server\nconsole.log(\"res\",response);return response.json();// wait to body data from server (PROMISE)\n}).then(function(body){//   run after all body back from server\nif(body.message===\"Success\"){localStorage.setItem(\"loggedinUser\",JSON.stringify(email));props.history.push(\"/\");}else{alert(body.message);}console.log(body);});// if success\n// save user form server in local storage\n// redirect to home\n}function onChange(event){{var _event$target=event.target,name=_event$target.name,value=_event$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));}}console.log(\"form\",form);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"header\",{className:\"log-header\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"welcome\"},\"Welcome To StopWatch\"),/*#__PURE__*/React.createElement(\"h2\",{className:\"catch\"},\"Time Mangement for the professional freelancer\")),/*#__PURE__*/React.createElement(\"div\",{className:\"login-container\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"please\"},\"Register below\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"label\",{For:\"loginfnane\"},\"First Name\"),/*#__PURE__*/React.createElement(\"input\",{className:\"user-login\",id:\"fname\",value:form.fname,name:\"fname\",onChange:onChange}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{For:\"loginlnane\"},\"Last Name\"),/*#__PURE__*/React.createElement(\"input\",{className:\"user-login\",id:\"lname\",value:form.lname,name:\"lname\",onChange:onChange}),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{For:\"loginemail\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"user-login\",id:\"loginemail\",value:form.email,name:\"email\",onChange:onChange}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{For:\"loginpassword\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"user-login\",id:\"loginpassword\",type:\"password\",name:\"password\",value:form.password,onChange:onChange}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"control-btn start-button login-btn\",type:\"sumbit\"},\"Register\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"Or\"),/*#__PURE__*/React.createElement(\"a\",{href:\"http://localhost:3000/register\"},\"Log In as existing user\"))));}export default Register;","map":{"version":3,"sources":["/Users/Dodo/Desktop/Web development/StopWatch/backend/frontend/src/componets/Register.js"],"names":["React","useState","Register","props","console","log","fname","lname","email","password","form","setForm","onSubmit","event","preventDefault","target","value","fetch","method","headers","body","JSON","stringify","then","response","json","message","localStorage","setItem","history","push","alert","onChange","name"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\n// 1) filll form\n// 2) send to server\n// 3) if valid data - redicert to home page, and save user in local storage\n// if not valid data - show error message\n\nfunction Register(props) {\n   console.log(\"Register props\", props);\n\n   const [form, setForm] = useState({ fname: \"\", lname: \"\", email: \"\", password: \"\" });\n   function onSubmit(event) {\n      // prevet default form behavior\n      event.preventDefault();\n      const fname = event.target.fname.value;\n      const lname = event.target.lname.value;\n      const email = event.target.email.value;\n      const password = event.target.password.value;\n\n      // validate data in server (Fetch)\n      fetch(\"http://localhost:5000/users/register\", {\n         method: \"POST\",\n         headers: {\n            \"Content-Type\": \"application/json\", // body type\n         },\n         body: JSON.stringify({\n            fname,\n            lname,\n            email,\n            password,\n         }),\n      })\n         .then(function (response) {\n            // run after get response from server\n            console.log(\"res\", response);\n            return response.json(); // wait to body data from server (PROMISE)\n         })\n         .then(function (body) {\n            //   run after all body back from server\n            if (body.message === \"Success\") {\n               localStorage.setItem(\"loggedinUser\", JSON.stringify(email));\n               props.history.push(\"/\");\n            } else {\n               alert(body.message);\n            }\n            console.log(body);\n         });\n      // if success\n\n      // save user form server in local storage\n\n      // redirect to home\n   }\n\n   function onChange(event) {\n      {\n         const { name, value } = event.target;\n         setForm({ ...form, [name]: value });\n      }\n   }\n\n   console.log(\"form\", form);\n\n   return (\n      <div>\n         <header className='log-header'>\n            <h1 className='welcome'>Welcome To StopWatch</h1>\n            <h2 className='catch'>Time Mangement for the professional freelancer</h2>\n         </header>\n         <div className='login-container'>\n            <h2 className='please'>Register below</h2>\n\n            <form onSubmit={onSubmit}>\n               <label For='loginfnane'>First Name</label>\n               <input className='user-login' id='fname' value={form.fname} name='fname' onChange={onChange} /> <br />\n               <label For='loginlnane'>Last Name</label>\n               <input className='user-login' id='lname' value={form.lname} name='lname' onChange={onChange} /> <br /> <br />\n               <br />\n               <label For='loginemail'>Email</label>\n               <input className='user-login' id='loginemail' value={form.email} name='email' onChange={onChange} /> <br />\n               <label For='loginpassword'>Password</label>\n               <input\n                  className='user-login'\n                  id='loginpassword'\n                  type='password'\n                  name='password'\n                  value={form.password}\n                  onChange={onChange}\n               />{\" \"}\n               <br />\n               <button className='control-btn start-button login-btn' type='sumbit'>\n                  Register\n               </button>\n               <br />\n               <p>Or</p>\n               <a href='http://localhost:3000/register'>Log In as existing user</a>\n            </form>\n         </div>\n      </div>\n   );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}